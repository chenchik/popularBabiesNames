<!DOCTYPE html>
<html ng-app="myApp">
<style>

text {
  font: 10px sans-serif;
}
.arc text {
  font: 10px sans-serif;
  text-anchor: middle;
  color: #ffffff;
}

.arc path {
  stroke: #fff;
}


</style>
<head>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="https://code.jquery.com/ui/1.9.2/jquery-ui.js"></script> 

<script   src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">

<link rel="stylesheet" type="text/css" href="css/style.css">

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>

<script src="//d3js.org/d3.v3.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/7.0.0/bootstrap-slider.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/7.0.0/bootstrap-slider.min.js"></script>

<link rel="stylesheet" type="text/css"href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/7.0.0/css/bootstrap-slider.css">

<link rel="stylesheet" type="text/css"href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/7.0.0/css/bootstrap-slider.min.css">

</head>

<body  ng-controller="AppCtrl">



	<div class="theHeader">
		<p class="headerText">Common Baby Names</p>
	</div>
	
	
	
	
	
	
	<div class="container">
		<div class="otherD3Container"></div>
		<div class="belowD3Container">
			<p class="infoText">Above are the most common baby names for 2014.</p>
			<p class="infoText">Below is a timeline from 1880 to 2014.</p>
			<p class="infoText">Move the slider in order to show the most common names for a slected year. </p>
			
					<input id="homeSlider" data-slider-id='theHomeSlider' type="text" data-slider-min="1880" data-slider-max="2014" data-slider-step="1" data-slider-value="2014" ng-model="theYear" ng-change="changeCount();"/>
					<p>{{theYear}}</p>
					<div class="submitTimeContainer">
						<a href="/home/year/{{theYear}}" class="aTagTimeButton"><p class="infoText">Submit</p></a>
					
					</div>
					
					<!--<a href="/home/year/{{theYear}}" class="submitTimeA">Submit</a>-->
					<!--<input id="time" data-slider-id='timeSlider' type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="14"/>-->
				
		</div>
		
		
		<div ng-repeat="name in uniqueNames">
		
			<a href="/name/{{name.Name}}">
				<div class="col-md-2 namesBox">
					<p class="namesBoxText">{{name.Name}}</p>
					<p>{{name.Year}}</p>
					<p>{{name.Id}}</p>
					<!--<p>{{haventSeen(name)}}</p>-->
					
				</div>
			</a>
			<!--{{name.Name}}
			{{name.Year}}
			{{name.Gender}}
			{{name.Count}}-->
		</div>
		
		
		
		
		
	</div>
	<script>
		
		var slider = new Slider('#homeSlider', {
			formatter: function(value) {
				return ('Year: ' + value);
			}
		});
	</script>
	<script>
	
	var diameter = 700, //max size of the bubbles
    color    = d3.scale.category20b(); //color category

	var bubble = d3.layout.pack()
		.sort(null)
		.size([diameter, diameter])
		.padding(1.5);

	var svg = d3.select(".otherD3Container")
		.append("svg")
		.attr("width", diameter)
		.attr("height", diameter)
		.attr("class", "bubble");

	d3.json("/home/common", function(error, data){

		//convert numerical values from strings to numbers
		data = data.map(function(d){ d.value = +d["Count"]; return d; });

		//bubbles needs very specific format, convert data to this.
		var nodes = bubble.nodes({children:data}).filter(function(d) { return !d.children; });

		//setup the chart
		var bubbles = svg.append("g")
			.attr("transform", "translate(0,0)")
			.selectAll(".bubble")
			.data(nodes)
			.enter();

		//create the bubbles
		bubbles.append("circle")
			.attr("r", function(d){ return d.r; })
			.attr("cx", function(d){ return d.x; })
			.attr("cy", function(d){ return d.y; })
			.style("fill", function(d) { return color(d.value); });

		//format the text for each bubble
		bubbles.append("text")
			.attr("x", function(d){ return d.x; })
			.attr("y", function(d){ return d.y + 5; })
			.attr("text-anchor", "middle")
			.text(function(d){ return d["Name"]; })
			.style({
				"fill":"white", 
				"font-family":"Helvetica Neue, Helvetica, Arial, san-serif",
				"font-size": "12px"
			});
	});
	
	</script>
	
	
	<!--<script>
	
	
		var width = 1140,
		height = 500,
		radius = Math.min(width, height) / 2;

		var color = d3.scale.ordinal()
			.range(["#19EACB", "#19b4e8", "#19dde8", "#1950e8", "#9160d6", "#41b8e0", "#4188e0"]);

		var arc = d3.svg.arc()
			.outerRadius(radius - 10)
			.innerRadius(radius - 100);

		var labelArc = d3.svg.arc()
			.outerRadius(radius - 40)
			.innerRadius(radius - 40);

		var pie = d3.layout.pie()
			.sort(null)
			.value(function(d) { return d.Count; });

		var svg = d3.select(".d3Container").append("svg")
			.attr("width", width)
			.attr("height", height)
		  .append("g")
			.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
		
		//var namesData = {{uniqueNames}};
		d3.csv("data.csv", type, function(error, data) {
		  if (error) throw error;

		  var g = svg.selectAll(".arc")
			  .data(pie(data))
			.enter().append("g")
			  .attr("class", "arc");

		  g.append("path")
			  .attr("d", arc)
			  .style("fill", function(d) { return color(d.data.Count); });

		  g.append("text")
			  .attr("transform", function(d) { return "translate(" + labelArc.centroid(d) + ")"; })
			  .attr("dy", ".35em")
			  .text(function(d) { return d.data.Name; })
			  .attr("fill", "#ffffff");
		
		
		});

		function type(d) {
		  d.Count = +d.Count;
		  return d;
		}

		

	</script>-->
	
	
	<script src="controllers/controller.js"></script>
</body>
</html>